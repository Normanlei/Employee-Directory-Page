{"ast":null,"code":"import _slicedToArray from\"/Users/normanlei/Desktop/Coding BC/HW/HW-15/Employee-Directory-Page/employeedirectory/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./App.css\";import Wrapper from\"./components/Wrapper\";import Navbar from\"./components/Navbar\";import SearchForm from\"./components/SearchForm\";import Container from\"./components/Container\";import Table from\"./components/Table\";import Alert from\"./components/Alert\";import API from\"./utils/API\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalShow=_useState2[0],setModalShow=_useState2[1];var employeesData=[];var columns=React.useMemo(function(){return[{Header:'Name',accessor:'name'},{Header:'Gender',accessor:'gender'},{Header:'Email',accessor:'email'},{Header:'Phone',accessor:'phone'},{Header:'Department',accessor:'department'}];},[]);var _useState3=useState(employeesData),_useState4=_slicedToArray(_useState3,2),employees=_useState4[0],setEmployees=_useState4[1];var _useState5=useState({search:\"\",category:\"name\",error:\"\"}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){///would be api call here\nAPI.getAllEmployees().then(function(data){// eslint-disable-next-line\nemployeesData=data;setEmployees(employeesData);});},[]);var renderAllEmployee=function renderAllEmployee(){API.getAllEmployees().then(function(data){employeesData=data;setEmployees(employeesData);});};var handleInputChange=function handleInputChange(event){setData({search:event.target.value,category:data.category,error:data.error});};var handleOptionChange=function handleOptionChange(event){setData({search:data.search,category:event.target.value,error:data.error});};var handleFormSubmit=function handleFormSubmit(event){event.preventDefault();if(!data.search){return;}var newEmployees=employees.filter(function(employee){return employee[data.category].toLowerCase().includes(data.search.toLowerCase());});setEmployees(newEmployees);};return React.createElement(Wrapper,null,React.createElement(Navbar,{modalShow:modalShow,setModalShow:setModalShow,reFresh:renderAllEmployee}),React.createElement(Container,null,React.createElement(SearchForm,{handleFormSubmit:handleFormSubmit,handleInputChange:handleInputChange,handleOptionChange:handleOptionChange,renderAllEmployee:renderAllEmployee}),React.createElement(Alert,{type:\"danger\",style:{opacity:data.error?1:0,marginBottom:10}},data.error),React.createElement(Table,{columns:columns,data:employees})));}export default App;","map":{"version":3,"sources":["/Users/normanlei/Desktop/Coding BC/HW/HW-15/Employee-Directory-Page/employeedirectory/client/src/App.js"],"names":["React","useEffect","useState","Wrapper","Navbar","SearchForm","Container","Table","Alert","API","App","modalShow","setModalShow","employeesData","columns","useMemo","Header","accessor","employees","setEmployees","search","category","error","data","setData","getAllEmployees","then","renderAllEmployee","handleInputChange","event","target","value","handleOptionChange","handleFormSubmit","preventDefault","newEmployees","filter","employee","toLowerCase","includes","opacity","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Wrapper from \"./components/Wrapper\";\nimport Navbar from \"./components/Navbar\";\nimport SearchForm from \"./components/SearchForm\";\nimport Container from \"./components/Container\";\nimport Table from \"./components/Table\";\nimport Alert from \"./components/Alert\";\nimport API from \"./utils/API\";\n\nfunction App() {\n  const [modalShow, setModalShow] = useState(false);\n  let employeesData = [];\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'Name',\n        accessor: 'name',\n\n      },\n\n      {\n        Header: 'Gender',\n        accessor: 'gender',\n      },\n      {\n        Header: 'Email',\n        accessor: 'email',\n      },\n      {\n        Header: 'Phone',\n        accessor: 'phone',\n      },\n      {\n        Header: 'Department',\n        accessor: 'department',\n      },\n    ],\n    []\n  );\n  const [employees, setEmployees] = useState(employeesData);\n\n  const [data, setData] = useState({\n    search: \"\",\n    category: \"name\",\n    error: \"\"\n  });\n\n\n  useEffect(() => {   ///would be api call here\n    API.getAllEmployees()\n    .then(data => {\n      // eslint-disable-next-line\n      employeesData = data;\n      setEmployees(employeesData);\n    });\n  }, []);\n\n  const renderAllEmployee = ()=>{\n    API.getAllEmployees()\n    .then(data => {\n      employeesData = data;\n      setEmployees(employeesData);\n    })\n  };\n\n  const handleInputChange = event => {\n    setData({ \n      search: event.target.value,\n      category: data.category,\n      error: data.error\n    });\n  };\n\n  const handleOptionChange = event => {\n    setData({ \n      search: data.search,\n      category: event.target.value,\n      error: data.error\n    });\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    if (!data.search) {\n      return;\n    }\n    const newEmployees = employees.filter(employee =>\n      employee[data.category].toLowerCase().includes(data.search.toLowerCase())\n    );\n    setEmployees(newEmployees);\n  };\n\n  return (\n    <Wrapper>\n      <Navbar modalShow={modalShow} setModalShow={setModalShow} reFresh = {renderAllEmployee}></Navbar>\n      <Container>\n        <SearchForm\n          handleFormSubmit={handleFormSubmit}\n          handleInputChange={handleInputChange}\n          handleOptionChange={handleOptionChange}\n          renderAllEmployee = {renderAllEmployee}\n        ></SearchForm>\n        <Alert type=\"danger\" style={{ opacity: data.error ? 1 : 0, marginBottom: 10 }}>\n          {data.error}\n        </Alert>\n        <Table columns={columns} data={employees}></Table>\n      </Container>\n    </Wrapper>\n  );\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}